import asyncio
import redis.asyncio as redis

async def check_redis():
    try:
        r = redis.Redis(host='localhost', port=6379, decode_responses=True)
        await r.set("test", "hello")
        val = await r.get("test")
        print("Redis ishlayapti:", val)
    except Exception as e:
        print("Xatolik:", e)

asyncio.run(check_redis())
